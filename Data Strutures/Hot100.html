<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>算法经典问题 | 学习记录，2020加油</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/blog/assets/img/favicon.ico">
    <meta name="description" content="笔记">
    <meta name="MaybeJT" content="笔记记录">
    <link rel="preload" href="/blog/assets/css/0.styles.b1f1698c.css" as="style"><link rel="preload" href="/blog/assets/js/app.db61aee0.js" as="script"><link rel="preload" href="/blog/assets/js/2.34d03835.js" as="script"><link rel="preload" href="/blog/assets/js/6.e74e4e73.js" as="script"><link rel="preload" href="/blog/assets/js/3.731873e8.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.30a403e6.js"><link rel="prefetch" href="/blog/assets/js/11.c7799078.js"><link rel="prefetch" href="/blog/assets/js/12.3900d628.js"><link rel="prefetch" href="/blog/assets/js/4.78c9b42e.js"><link rel="prefetch" href="/blog/assets/js/5.2c2219c2.js"><link rel="prefetch" href="/blog/assets/js/7.a8dacabf.js"><link rel="prefetch" href="/blog/assets/js/8.e45d1ae4.js"><link rel="prefetch" href="/blog/assets/js/9.c4e3ec4d.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.b1f1698c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/assets/img/logo.png" alt="学习记录，2020加油" class="logo"> <span class="site-name can-hide">学习记录，2020加油</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/Data Strutures/" class="nav-link">
  Data Strutures
</a></div><div class="nav-item"><a href="/blog/Tools/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  万能网址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/blog/Data Strutures/" class="nav-link">
  Data Strutures
</a></div><div class="nav-item"><a href="/blog/Tools/" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  万能网址
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/Data%20Strutures/" aria-current="page" class="sidebar-link">排序算法</a></li><li><a href="/blog/Data Strutures/one.html" class="sidebar-link">二叉树</a></li><li><a href="/blog/Data Strutures/Hot100.html" class="active sidebar-link">算法经典问题</a><ul class="sidebar-sub-headers"></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="算法经典问题"><a href="#算法经典问题" class="header-anchor">#</a> 算法经典问题</h3> <h1 id="topk问题-数组经典问题"><a href="#topk问题-数组经典问题" class="header-anchor">#</a> TopK问题(数组经典问题)</h1> <h3 id="变式1-选择出数组中第k小的元素"><a href="#变式1-选择出数组中第k小的元素" class="header-anchor">#</a> 变式1 选择出数组中第k小的元素</h3> <p>此题考虑使用两种思路:(1)维护一个堆;(2)使用快速排序的变式快速选择。</p> <p>1.维护优先队列(手写堆或者使用PriorityQueue)</p> <div class="language-aidl extra-class"><pre class="language-text"><code>class Solution {
   public int findKthLargest(int[] nums, int k) {
        int heapSize = nums.length;
        buildMaxHeap(nums, heapSize);
        for (int i = nums.length - 1; i &gt;= nums.length - k + 1; --i) {
            swap(nums, 0, i);
            --heapSize;
            maxHeapify(nums, 0, heapSize);
        }
        return nums[0];
    }

    public void buildMaxHeap(int[] a, int heapSize) {
        for (int i = heapSize / 2; i &gt;= 0; --i) {
            maxHeapify(a, i, heapSize);
        } 
    }

    public void maxHeapify(int[] a, int i, int heapSize) {
        int l = i * 2 + 1, r = i * 2 + 2, largest = i;
        if (l &lt; heapSize &amp;&amp; a[l] &gt; a[largest]) {
            largest = l;
        } 
        if (r &lt; heapSize &amp;&amp; a[r] &gt; a[largest]) {
            largest = r;
        }
        if (largest != i) {
            swap(a, i, largest);
            maxHeapify(a, largest, heapSize);
        }
    }

    public void swap(int[] a, int i, int j) {
        int temp = a[i];
        a[i] = a[j];
        a[j] = temp;
    }
}
</code></pre></div><p>基于优先队列：</p> <div class="language-aidl extra-class"><pre class="language-text"><code>public int findKthLargest(int[] nums, int k) {
        PriorityQueue&lt;Integer&gt; minQueue = new PriorityQueue&lt;&gt;(k);
        for (int num : nums) {
            if (minQueue.size() &lt; k || num &gt; minQueue.peek()) {
                minQueue.offer(num);
            }
            if (minQueue.size() &gt; k) {
                minQueue.poll();
            }
        }
        return minQueue.peek();
    }
</code></pre></div><p>2.快速选择</p> <div class="language-aidl extra-class"><pre class="language-text"><code>Random random = new Random();

    public int findKthLargest(int[] nums, int k) {
        return quickSelect(nums, 0, nums.length - 1, nums.length - k);
    }

    public int quickSelect(int[] a, int l, int r, int index) {
        int q = randomPartition(a, l, r);
        if (q == index) {
            return a[q];
        } else {
            return q &lt; index ? quickSelect(a, q + 1, r, index) : quickSelect(a, l, q - 1, index);
        }
    }

    public int randomPartition(int[] a, int l, int r) {
        int i = random.nextInt(r - l + 1) + l;
        swap(a, i, r);
        return partition(a, l, r);
    }

    public int partition(int[] a, int l, int r) {
        int x = a[r], i = l - 1;
        for (int j = l; j &lt; r; ++j) {
            if (a[j] &lt;= x) {
                swap(a, ++i, j);
            }
        }
        swap(a, i + 1, r);
        return i + 1;
    }

    public void swap(int[] a, int i, int j) {
        int temp = a[i];
        a[i] = a[j];
        a[j] = temp;
    }
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/Data Strutures/one.html" class="prev">
        二叉树
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.db61aee0.js" defer></script><script src="/blog/assets/js/2.34d03835.js" defer></script><script src="/blog/assets/js/6.e74e4e73.js" defer></script><script src="/blog/assets/js/3.731873e8.js" defer></script>
  </body>
</html>
